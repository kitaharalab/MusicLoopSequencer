{"ast":null,"code":"var _jsxFileName = \"/home/sclab/renewal/frontend/src/ExcitementCurve.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ExcitementCurve() {\n  _s();\n  const curveLength = 1152;\n  const curveInitial = 250;\n  const [linesY, setLinesY] = useState(new Array(curveLength).fill(curveInitial));\n  const startDraw = _ref => {\n    let {\n      nativeEvent\n    } = _ref;\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    setPosX(Math.floor(offsetX));\n    setPosY(Math.floor(offsetY));\n    setLinesY(linesY.map((pos, index) => index === posX ? posY : pos));\n    setDrawing(true);\n  };\n  const draw = _ref2 => {\n    let {\n      nativeEvent\n    } = _ref2;\n    const canvas1 = document.getElementById('canvas1');\n    const ctx1 = canvas1.getContext('2d');\n    if (!drawing) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    let array = new Array(1152);\n    for (var i = 0; i < 1152; i++) {\n      array[i] = linesY[i];\n    }\n    array[offsetX] = offsetY;\n    setLinesY(linesY.map((pos, index) => index === offsetX ? offsetY : pos));\n    let difference = Math.floor(Math.abs(offsetX - posX));\n    if (offsetX > posX) {\n      for (var i = 1; i < difference; i++) {\n        array[posX + i] = Math.floor(posY + (offsetY - posY) * (posX + i - posX) / (offsetX - posX));\n      }\n    } else {\n      for (var i = 1; i < difference; i++) {\n        array[posX - i] = Math.floor(posY + (offsetY - posY) * (posX - i - posX) / (offsetX - posX));\n      }\n    }\n    setLinesY([...array]);\n    context1.clearRect(0, 1, 1151, 278);\n    context1.strokeStyle = \"gray\";\n    for (let i = 0; i < 32; i++) {\n      for (let j = 0; j < 5; j++) {\n        context1.strokeRect(36 * i, 56 * j, 36, 56);\n      }\n    }\n    context1.lineWidth = \"3\";\n    context1.strokeStyle = \"blue\";\n    context1.beginPath();\n    for (var i = 0; i < 1151; i++) {\n      context1.moveTo(i, linesY[i]); //盛り上がり度曲線を描く．\n      context1.lineTo(i + 1, linesY[i + 1]);\n    }\n    context1.stroke();\n    context1.closePath();\n    context1.lineWidth = \"1\";\n    context1.strokeStyle = \"black\";\n    setPosX(Math.floor(offsetX));\n    setPosY(Math.floor(offsetY));\n  };\n  const stopDraw = () => {\n    setDrawing(false);\n  };\n  useEffect(() => {\n    const canvas1 = document.getElementById('canvas1');\n    const ctx1 = canvas1.getContext('2d');\n    ctx1.fillStyle = 'black';\n    ctx1.strokeStyle = \"black\";\n    ctx1.lineWidth = \"3\";\n    ctx1.strokeRect(0, 0, canvas1.width, canvas1.height);\n    ctx1.strokeStyle = \"gray\";\n    ctx1.lineWidth = \"1\";\n    for (let i = 0; i < 32; i++) {\n      for (let j = 0; j < 5; j++) {\n        ctx1.strokeRect(36 * i, 56 * j, 36, 56);\n      }\n    }\n    ctx1.lineWidth = \"3\";\n    ctx1.strokeStyle = \"blue\";\n    ctx1.beginPath();\n    for (var i = 0; i < 1151; i++) {\n      ctx1.moveTo(i, linesY[i]); //盛り上がり度曲線を描く\n      ctx1.lineTo(i + 1, linesY[i + 1]);\n    }\n    ctx1.stroke();\n    ctx1.closePath();\n  }, [dammy]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    style: style1,\n    width: \"1152\",\n    height: \"280\",\n    id: \"canvas1\",\n    onMouseDown: startDraw,\n    onMouseUp: stopDraw,\n    onMouseMove: draw\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n_s(ExcitementCurve, \"Biz5tYYcxm61MFBk1y/oKK4JuGA=\");\n_c = ExcitementCurve;\nvar _c;\n$RefreshReg$(_c, \"ExcitementCurve\");","map":{"version":3,"names":["ExcitementCurve","curveLength","curveInitial","linesY","setLinesY","useState","Array","fill","startDraw","nativeEvent","offsetX","offsetY","setPosX","Math","floor","setPosY","map","pos","index","posX","posY","setDrawing","draw","canvas1","document","getElementById","ctx1","getContext","drawing","array","i","difference","abs","context1","clearRect","strokeStyle","j","strokeRect","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","stopDraw","useEffect","fillStyle","width","height","dammy","style1"],"sources":["/home/sclab/renewal/frontend/src/ExcitementCurve.jsx"],"sourcesContent":["\nexport default function ExcitementCurve() {\n    const curveLength = 1152;\n    const curveInitial = 250;\n    const [linesY, setLinesY] = useState(new Array(curveLength).fill(curveInitial))\n\n    const startDraw = ({ nativeEvent }) => {\n        const { offsetX, offsetY } = nativeEvent;\n        setPosX(Math.floor(offsetX));\n        setPosY(Math.floor(offsetY));\n        setLinesY(linesY.map((pos, index) => (index === posX ? posY : pos)))\n        setDrawing(true);\n    };\n\n    const draw = ({ nativeEvent }) => {\n        const canvas1 = document.getElementById('canvas1');\n        const ctx1 = canvas1.getContext('2d');\n        if (!drawing) { return; }\n        const { offsetX, offsetY } = nativeEvent;\n        let array = new Array(1152);\n        for (var i = 0; i < 1152; i++) {\n            array[i] = linesY[i]\n        }\n        array[offsetX] = offsetY;\n        setLinesY(linesY.map((pos, index) => (index === offsetX ? offsetY : pos)))\n        let difference = Math.floor((Math.abs(offsetX - posX)));\n        if (offsetX > posX) {\n            for (var i = 1; i < difference; i++) {\n                array[posX + i] = Math.floor(posY + (offsetY - posY) * (posX + i - posX) / (offsetX - posX));\n            }\n        } else {\n            for (var i = 1; i < difference; i++) {\n                array[posX - i] = Math.floor(posY + (offsetY - posY) * (posX - i - posX) / (offsetX - posX));\n            }\n        }\n        setLinesY([...array])\n\n        context1.clearRect(0, 1, 1151, 278);\n        context1.strokeStyle = \"gray\"\n        for (let i = 0; i < 32; i++) {\n            for (let j = 0; j < 5; j++) {\n                context1.strokeRect(36 * i, 56 * j, 36, 56);\n            }\n        }\n        context1.lineWidth = \"3\";\n        context1.strokeStyle = \"blue\"\n        context1.beginPath();\n        for (var i = 0; i < 1151; i++) {\n            context1.moveTo(i, linesY[i]);          //盛り上がり度曲線を描く．\n            context1.lineTo(i + 1, linesY[i + 1]);\n        }\n        context1.stroke();\n        context1.closePath();\n\n        context1.lineWidth = \"1\"\n        context1.strokeStyle = \"black\"\n\n        setPosX(Math.floor(offsetX))\n        setPosY(Math.floor(offsetY))\n\n    };\n\n    const stopDraw = () => {\n        setDrawing(false);\n    };\n\n\n    useEffect(() => {\n        const canvas1 = document.getElementById('canvas1');\n        const ctx1 = canvas1.getContext('2d');\n\n        ctx1.fillStyle = 'black';\n        ctx1.strokeStyle = \"black\"\n        ctx1.lineWidth = \"3\"\n        ctx1.strokeRect(0, 0, canvas1.width, canvas1.height);\n        ctx1.strokeStyle = \"gray\";\n        ctx1.lineWidth = \"1\"\n        for (let i = 0; i < 32; i++) {\n            for (let j = 0; j < 5; j++) {\n                ctx1.strokeRect(36 * i, 56 * j, 36, 56);\n            }\n        }\n        ctx1.lineWidth = \"3\";\n        ctx1.strokeStyle = \"blue\"\n        ctx1.beginPath();\n        for (var i = 0; i < 1151; i++) {\n            ctx1.moveTo(i, linesY[i]);      //盛り上がり度曲線を描く\n            ctx1.lineTo(i + 1, linesY[i + 1]);\n        }\n        ctx1.stroke();\n        ctx1.closePath();\n\n\n\n    }, [dammy]);\n\n\n    return (\n        <canvas style={style1} width=\"1152\" height=\"280\" id=\"canvas1\"\n            onMouseDown={startDraw}\n            onMouseUp={stopDraw}\n            onMouseMove={draw}>\n        </canvas>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}